<!-- app/views/layouts/_search_bar.html.erb -->
<div class="search-bar">
  <h2 class="title is-3">Search Products</h2>
  <%= form_with url: search_products_path, method: :get, local: true do %>
    <div class="field">
      <div class="control">
        <%= text_field_tag :keyword, params[:keyword], placeholder: "Search by product name or description...", class: 'input' %>
      </div>
    </div>

    <div class="field">
      <div class="control">
        <%= select_tag :category_id, options_from_collection_for_select(@categories || [], :id, :name, params[:category_id]), include_blank: "All Categories", class: 'select' %>
      </div>
    </div>

    <div class="field">
      <div class="control">
        <%= submit_tag "Search", class: 'button is-info' %>
      </div>
    </div>
  <% end %>
</div>
